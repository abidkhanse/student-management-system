<div class="col-md-6 offset-md-3">

    <h3>Create Employee</h3>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
            <label>First Name</label>
            <input type="text" class="form-control" id="firstname" formControlName="firstname" [class.invalid]="
                registerForm.get('username')?.invalid && 
                (registerForm.get('username')?.dirty
                || registerForm.get('username')?.touched
                || isSubmitted)
                ">

            <div [hidden]="registerForm.get('firstname')?.valid || !isSubmitted" class="alert alert-danger">
                First name cannot be empty
            </div>
        </div>

        <div class="form-group">
            <label>Last Name</label>
            <input type="text" class="form-control" id="lastname" formControlName="lastname" [class.invalid]="
            registerForm.get('lastname')?.invalid && 
            (registerForm.get('lastname')?.dirty
            || registerForm.get('lastname')?.touched
            || isSubmitted)
            ">
            <div [hidden]="registerForm.get('lastname')?.valid || !isSubmitted" class="alert alert-danger">
                Last name cannot be empty
            </div>

        </div>

        <div class="form-group">
            <label>Email address</label>
            <input type="text" class="form-control" [attr.disabled]="true" id="email" formControlName="email" [class.invalid]="
            registerForm.get('email')?.invalid && 
            (registerForm.get('email')?.dirty
            || registerForm.get('email')?.touched
            || isSubmitted)
            ">

            <div [hidden]="registerForm.get('email')?.valid || !isSubmitted" class="alert alert-danger">
                email cannot be empty
            </div>
        </div>
        <div class="form-group">
            <label>Role How to select default</label>
            <select class="form-select" formControlName="role">
                <option *ngFor="let type of roles" [value]="type.role">
                    {{type.role}}
                </option>
            </select>
        </div>

        <div class="form-group">
            <label>Auto Generated Password (wish) </label>
            <input type="text" class="form-control" id="password" formControlName="password" [class.invalid]="
            registerForm.get('password')?.invalid && 
            (registerForm.get('password')?.dirty
            || registerForm.get('password')?.touched
            || isSubmitted)
            ">

            <div *ngIf="registerForm.get('password')?.invalid && (isSubmitted || registerForm.get('password')?.dirty || registerForm.get('password')?.touched) " class="alert alert-danger">
                Password cannot be empty
            </div>
            <div *ngIf="registerForm.get('password')?.errors?.['minlength']" class="alert alert-danger">
               length must be at least 5 characters
            </div>

        </div>
        <br>
        <div>
            <div [hidden]="!postError" class="alert alert-danger">
                {{postErrorMessage}}
            </div>
        </div>
        <div class="form-group">
            <button class="btn btn-success" type="submit">Update User</button>
        </div>

    </form>


    <h3>{{ registerForm.value | json }}</h3>

</div>